import { useState, useEffect } from "react"

export default function Header() {
	const [isScrolled, setIsScrolled] = useState(false)

	useEffect(() => {
		const handleScroll = () => {
			setIsScrolled(window.scrollY > 50)
		}

		window.addEventListener("scroll", handleScroll)
		return () => window.removeEventListener("scroll", handleScroll)
	}, [])

	return (
		<header className={`top-0 left-0 w-full fixed z-50 container mx-auto px-4 py-5 transition-all duration-700 ease-in-out ${isScrolled ? "bg-white shadow-md border-b-2 border-black" : "bg-transparent"}`}>
			<div className="relative w-full flex items-center">
				<a href="#" className={`text-2xl font-semibold text-black absolute left-0 transition-all duration-700 ease-out ${isScrolled ? "opacity-100 translate-x-0" : "opacity-0 -translate-x-12"}`}>
					Costudon
				</a>

				{/* SVG Container */}
				<div className={`transition-all duration-700 ease-in-out ${isScrolled ? "ml-auto" : "ml-0"}`}>
					<button className="relative">
						{/* SVG Original */}
						<svg xmlns="http://www.w3.org/2000/svg" width="39" height="31" viewBox="0 0 29 21" fill="none" className={`transition-all duration-700 ease-in-out ${isScrolled ? "opacity-0 scale-95 rotate-12" : "opacity-100 scale-100 rotate-0"}`}>
							<path
								d="M18.3398 16.5137C18.8243 16.5137 19.2893 16.7063 19.6318 17.0488C19.9742 17.3913 20.167 17.8556 20.167 18.3398C20.167 18.8243 19.9744 19.2893 19.6318 19.6318C19.2893 19.9744 18.8243 20.167 18.3398 20.167H2.32715C1.90322 20.167 1.494 20.0193 1.16895 19.7529L1.03516 19.6318C0.69259 19.2893 0.5 18.8243 0.5 18.3398C0.500041 17.8555 0.692733 17.3913 1.03516 17.0488L1.16895 16.9268C1.49398 16.6605 1.90328 16.5137 2.32715 16.5137H18.3398ZM26.3398 8.50684C26.8243 8.50684 27.2893 8.69943 27.6318 9.04199L27.7529 9.17578C28.0192 9.50074 28.1669 9.90924 28.167 10.333C28.167 10.8174 27.9743 11.2824 27.6318 11.625C27.2893 11.9676 26.8243 12.1602 26.3398 12.1602H2.32715C1.90318 12.1602 1.49402 12.0125 1.16895 11.7461L1.03516 11.625C0.69259 11.2824 0.5 10.8175 0.5 10.333C0.500176 9.32336 1.31944 8.50684 2.32715 8.50684H26.3398ZM13.0068 0.5L13.1875 0.508789C13.6055 0.550355 13.9982 0.735571 14.2979 1.03516L14.4199 1.16895C14.6862 1.49398 14.833 1.90329 14.833 2.32715C14.8329 2.75084 14.6861 3.15947 14.4199 3.48438L14.2979 3.61816C13.9553 3.96059 13.4912 4.15328 13.0068 4.15332H2.32715C1.90314 4.15332 1.49403 4.00571 1.16895 3.73926L1.03516 3.61816C0.692708 3.27571 0.500128 2.81143 0.5 2.32715L0.509766 2.13965C0.603476 1.21791 1.38236 0.5 2.32715 0.5H13.0068Z"
								fill="black"
								stroke="black"
							/>
						</svg>

						{/* SVG Scrolled */}
						<svg xmlns="http://www.w3.org/2000/svg" width="39" height="32" viewBox="0 0 29 22" fill="none" className={`absolute inset-0 transition-all duration-700 ease-in-out delay-200 ${isScrolled ? "opacity-100 scale-100 rotate-0" : "opacity-0 scale-95 -rotate-12"}`}>
							<path
								d="M10.3271 16.9023C9.84269 16.9023 9.37772 17.0948 9.03516 17.4374C8.69284 17.7799 8.50004 18.2442 8.5 18.7284C8.5 19.2129 8.69259 19.6779 9.03516 20.0204C9.33492 20.3202 9.72829 20.5053 10.1465 20.5468L10.3271 20.5556H26.3398C26.8242 20.5556 27.2893 20.3629 27.6318 20.0204C27.9744 19.6778 28.167 19.2129 28.167 18.7284C28.167 18.2441 27.9743 17.7799 27.6318 17.4374C27.2893 17.0948 26.8243 16.9023 26.3398 16.9023H10.3271ZM2.32715 8.89542L2.14648 8.90421C1.72831 8.94572 1.33491 9.13082 1.03516 9.43057C0.692822 9.77304 0.500084 10.2374 0.5 10.7216C0.5 11.206 0.692641 11.671 1.03516 12.0136C1.33492 12.3133 1.72829 12.4984 2.14648 12.5399L2.32715 12.5487H26.3398C26.8243 12.5487 27.2893 12.3561 27.6318 12.0136C27.9744 11.671 28.167 11.2061 28.167 10.7216C28.1668 9.71193 27.3476 8.89542 26.3398 8.89542H2.32715ZM15.6602 0.88858L15.4795 0.897369C15.0615 0.938935 14.6688 1.12415 14.3691 1.42374C14.0267 1.76619 13.8341 2.23047 13.834 2.71475C13.834 3.19921 14.0266 3.66418 14.3691 4.00674C14.6688 4.30633 15.0615 4.49155 15.4795 4.53311L15.6602 4.5419H26.3398C26.8243 4.5419 27.2893 4.34931 27.6318 4.00674C27.9744 3.66418 28.167 3.19921 28.167 2.71475L28.1572 2.52823C28.0635 1.60649 27.2846 0.88858 26.3398 0.88858H15.6602Z"
								fill="black"
								stroke="black"
							/>
						</svg>
					</button>
				</div>
			</div>
		</header>
	)
}
